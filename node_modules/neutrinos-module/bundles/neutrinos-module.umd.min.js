!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http"),require("neutrinos-seed-services"),require("@angular/material"),require("signature_pad"),require("@angular/common"),require("@angular/forms"),require("@angular/platform-browser/animations"),require("@angular/flex-layout"),require("n-sheet"),require("@angular/material/icon"),require("@angular/material/dialog"),require("@angular/material/button")):"function"==typeof define&&define.amd?define("neutrinos-module",["exports","@angular/core","@angular/common/http","neutrinos-seed-services","@angular/material","signature_pad","@angular/common","@angular/forms","@angular/platform-browser/animations","@angular/flex-layout","n-sheet","@angular/material/icon","@angular/material/dialog","@angular/material/button"],e):e(t["neutrinos-module"]={},t.ng.core,t.ng.common.http,t["neutrinos-seed-services"],t.ng.material,t.signature_pad,t.ng.common,t.ng.forms,t.ng.platformBrowser.animations,t.ng["flex-layout"],t["n-sheet"],t.ng.material.icon,t.ng.material.dialog,t.ng.material.button)}(this,function(e,n,o,i,r,a,s,c,u,l,p,d,f,h){"use strict";a=a&&a.hasOwnProperty("default")?a["default"]:a;var m=function(){function t(t){var a=this;this.http=t,this.checkFileExist=function(n,o,i,r){return window.resolveLocalFileSystemURL(n+o,function(){var t=4;if(-1<o.lastIndexOf("(")){var e=parseInt(o.slice(o.lastIndexOf("(")+1,o.lastIndexOf(")")),10);isNaN(e)?(i+=1,o=(o=o.slice(0,o.lastIndexOf("."))+o.slice(o.lastIndexOf("."))).slice(0,o.lastIndexOf("."))+" ("+i+")"+o.slice(o.lastIndexOf("."))):(10<(i=e+1)&&i<100?t+=1:100<i&&(t+=2),o=o.slice(0,o.lastIndexOf(".")-t)+" ("+i+")"+o.slice(o.lastIndexOf(".")))}else i+=1,o=(o=o.slice(0,o.lastIndexOf("."))+o.slice(o.lastIndexOf("."))).slice(0,o.lastIndexOf("."))+" ("+i+")"+o.slice(o.lastIndexOf("."));return a.checkFileExist(n,o,i,r)},function(){return r(o)})},this.systemService=i.NSystemService.getInstance(),this.appProperties=this.systemService.getVal("properties")}return t.prototype.getFileInfo=function(t){var e=this.systemService.getDataModelUrl();return t.metadata?e+=this.appProperties.appName+"_"+t.entityName+'.files?filter={"metadata.key": "'+t.metadata.key+'"}':e+=this.appProperties.appName+"_"+t.entityName+".files/"+t.fileId,this.http.get(e)},t.prototype.getFormData=function(t){return new Promise(function(r,e){window.resolveLocalFileSystemURL(t,function(t){t.file(function(o){var i=new FileReader;i.onerror=function(t){return e(t)},i.onloadend=function(t){var e=new FormData,n=new Blob([new Uint8Array(i.result)],{type:o.type});return e.append("file",n,o.name),r(e)},i.readAsArrayBuffer(o)})},function(t){return e(t)})})},t.prototype.getPicture=function(t){var o=this;return new Promise(function(e,n){document.addEventListener("deviceready",function(){navigator.camera.getPicture(function(t){o.getFormData(t).then(function(t){return e(t)})["catch"](function(t){return n(t)})},function(t){return n(t)},t)},!1)})},t.prototype.scanPicture=function(o){var i=this;return new Promise(function(e,n){document.addEventListener("deviceready",function(){o.hasOwnProperty("sourceType")&&o.hasOwnProperty("doUpload")?scan.scanDoc(o.sourceType,function(t){o.doUpload?i.getFormData(t).then(function(t){return e(t)})["catch"](function(t){return n(t)}):e(t)},function(t){return n(t)}):n("sourceType not found")},!1)})},t.prototype.getBarcode=function(t){return new Promise(function(e,n){document.addEventListener("deviceready",function(){cordova.plugins.barcodeScanner.scan(function(t){return t.cancelled?n(t):e(t)},function(t){return n(t)},t)},!1)})},t.prototype.getVideo=function(t){var i=this;return new Promise(function(n,o){document.addEventListener("deviceready",function(){navigator.device.capture.captureVideo(function(t){var e=t[0].fullPath;i.getFormData(e).then(function(t){return n(t)})["catch"](function(t){return o(t)})},function(t){return o(t)},{})},!1)})},t.prototype.getTts=function(n){return new Promise(function(t,e){document.addEventListener("deviceready",function(){n.hasOwnProperty("text")?TTS.speak(n).then(function(){return t("success")},function(t){return e(t)}):e("text not found")},!1)})},t.prototype.getShake=function(n){return new Promise(function(t,e){document.addEventListener("deviceready",function(){n.hasOwnProperty("start")&&n.hasOwnProperty("sensitivity")?n.start?shake.startWatch(function(){return t("success")},n.sensitivity,function(){return e("error")}):shake.stopWatch():e("start or sensitivity not found")},!1)})},t.prototype.getOcr=function(o){return new Promise(function(e,n){document.addEventListener("deviceready",function(){o.hasOwnProperty("uriOrBase")&&o.hasOwnProperty("returnType")?navigator.camera.getPicture(function(t){textocr.recText(o.uriOrBase,o.returnType,t,function(t){return e(t)},function(t){return n(t)})},function(t){return n(t)},o):n("uriOrBase or returnType not found")},!1)})},t.prototype.getFingerprint=function(o){return new Promise(function(e,n){document.addEventListener("deviceready",function(){o.hasOwnProperty("clientId")&&o.hasOwnProperty("clientSecret")?Fingerprint.isAvailable(function(t){Fingerprint.show(o,function(){return e("success")},function(t){return n(t)})},function(t){return n(t)}):n("clientId or clientSecret not found")},!1)})},t.prototype.upload=function(r){var a=this;return new Promise(function(e,n){var t=new FormData;r.formData?t=r.formData:r.files?t.append("file",r.files):n("No file selected!"),r.metadata&&t.append("metadata",JSON.stringify(r.metadata));var o=a.systemService.getFileIOUrl()+""+r.entityName,i={headers:a.setHeaders({"Content-Type":"no-content"})};a.http.post(o,t,i).subscribe(function(t){return e(t)},function(t){return n(t)})})},t.prototype.download=function(r){var a=this;return new Promise(function(t,i){if(!r.entityName||!r.metadata&&!r.fileId)return i("download options not found");a.getFileInfo(r).subscribe(function(t){t=r.metadata?t[t.length-1]:t.result;var n={contentType:"",filename:""};if(t&&t.contentType&&t.filename){n.contentType=t.contentType,n.filename=t.filename;var e=a.systemService.getFileIOUrl();r.metadata?e+=r.entityName+'?metadataFilter={"metadata.key": "'+r.metadata.key+'"}':e+=r.entityName+"/"+r.fileId;var o={Accept:n.contentType};a.http.get(e,{headers:a.setHeaders(o),responseType:"blob"}).subscribe(function(t){var e=new Blob([t.body],{type:n.contentType});a.saveFile(e,n.filename).then(function(t){})["catch"](function(t){return i(t)})},function(t){return i(t)})}else i("fileInfo not exit")},function(t){return i(t)})})},t.prototype.saveFile=function(o,i){var r=this;return new Promise(function(e,n){if("mobile"==r.systemService.checkDevice()){var t=r.systemService.isAndroid()?cordova.file.externalRootDirectory:cordova.file.documentsDirectory;r.createDirectory(t,r.appProperties.appName,i,o).then(function(t){return e(t)})["catch"](function(t){return n(t)})}else r.saveToBrowser(o,i).then(function(t){return e(t)})})},t.prototype.saveToBrowser=function(o,i){return new Promise(function(t){if(!document.documentMode&&!!window.StyleMedia)window.navigator.msSaveBlob(o,i);else{var e=window.URL.createObjectURL(o),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.download=i,n.href=e,n.click(),window.URL.revokeObjectURL(e),document.body.removeChild(n),n.remove()}return t("download complete")})},t.prototype.createDirectory=function(t,e,i,r){var a=this;return new Promise(function(n,o){window.resolveLocalFileSystemURL(t,function(t){t.getDirectory(e,{create:!0},function(e){a.checkFileExist(e.nativeURL,i,0,function(t){e.getFile(t,{create:!0},function(e){e.createWriter(function(t){t.onwriteend=function(){return n(e.toURL())},t.onerror=function(t){return o(t)},t.write(r)})})})},function(t){return o(t)})},function(t){return o(t)})})},t.prototype.setHeaders=function(t){var e=new o.HttpHeaders;for(var n in t)n&&(e=e.set(n,t[n]));return e},t}();m.decorators=[{type:n.Injectable}],m.ctorParameters=function(){return[{type:o.HttpClient}]};var g=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getPicture().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getPicture=function(){var i=this;return new Promise(function(n,o){i.fsv.getPicture(i.cameraOptions).then(function(t){var e={formData:t,entityName:i.cameraOptions.entityName,metadata:i.cameraOptions.metadata};i.fsv.upload(e).then(function(t){return n(t)})["catch"](function(t){return o(t)})})["catch"](function(t){return o(t)})})},t}();g.decorators=[{type:n.Directive,args:[{selector:"[n-camera]"}]}],g.ctorParameters=function(){return[{type:m}]},g.propDecorators={cameraOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var v=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.downloadFile().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.downloadFile=function(){return this.fsv.download(this.downloadOptions)},t}();v.decorators=[{type:n.Directive,args:[{selector:"[n-download]"}]}],v.ctorParameters=function(){return[{type:m}]},v.propDecorators={downloadOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var y=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getPicture().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getPicture=function(){var i=this;return new Promise(function(n,o){i.fsv.scanPicture(i.scanOptions).then(function(t){if(i.scanOptions.doUpload){var e={formData:t,entityName:i.scanOptions.entityName,metadata:i.scanOptions.metadata};i.fsv.upload(e).then(function(t){n(t)})["catch"](function(t){return o(t)})}else n(t)})["catch"](function(t){return o(t)})})},t}();y.decorators=[{type:n.Directive,args:[{selector:"[n-scan]"}]}],y.ctorParameters=function(){return[{type:m}]},y.propDecorators={scanOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var b=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getVideo().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getVideo=function(){var i=this;return new Promise(function(n,o){i.fsv.getVideo(i.videoOptions).then(function(t){var e={formData:t,entityName:i.videoOptions.entityName,metadata:i.videoOptions.metadata};i.fsv.upload(e).then(function(t){return n(t)})["catch"](function(t){return o(t)})})["catch"](function(t){return o(t)})})},t}();b.decorators=[{type:n.Directive,args:[{selector:"[n-video]"}]}],b.ctorParameters=function(){return[{type:m}]},b.propDecorators={videoOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var I=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getBarcode().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getBarcode=function(){var t=this;return new Promise(function(e,n){t.fsv.getBarcode(t.barcodeOptions).then(function(t){return e(t)})["catch"](function(t){return n(t)})})},t}();I.decorators=[{type:n.Directive,args:[{selector:"[n-barcode]"}]}],I.ctorParameters=function(){return[{type:m}]},I.propDecorators={barcodeOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var k=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getTts().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getTts=function(){var t=this;return new Promise(function(e,n){t.fsv.getTts(t.ttsOptions).then(function(t){return e(t)})["catch"](function(t){return n(t)})})},t}();k.decorators=[{type:n.Directive,args:[{selector:"[n-tts]"}]}],k.ctorParameters=function(){return[{type:m}]},k.propDecorators={ttsOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var w=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getFingerprint().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getFingerprint=function(){var t=this;return new Promise(function(e,n){t.fsv.getFingerprint(t.fingerprintOptions).then(function(t){return e(t)})["catch"](function(t){return n(t)})})},t}();w.decorators=[{type:n.Directive,args:[{selector:"[n-fingerprint]"}]}],w.ctorParameters=function(){return[{type:m}]},w.propDecorators={fingerprintOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var O=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getOcr().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getOcr=function(){var t=this;return new Promise(function(e,n){t.fsv.getOcr(t.ocrOptions).then(function(t){return e(t)})["catch"](function(t){return n(t)})})},t}();O.decorators=[{type:n.Directive,args:[{selector:"[n-ocr]"}]}],O.ctorParameters=function(){return[{type:m}]},O.propDecorators={ocrOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var x=function(){function t(t){this.fsv=t,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.methodToHandleMouseClickAction=function(){var e=this;this.getShake().then(function(t){return e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)})},t.prototype.getShake=function(){var t=this;return new Promise(function(e,n){t.fsv.getShake(t.shakeOptions).then(function(t){return e(t)})["catch"](function(t){return n(t)})})},t}();x.decorators=[{type:n.Directive,args:[{selector:"[n-shake]"}]}],x.ctorParameters=function(){return[{type:m}]},x.propDecorators={shakeOptions:[{type:n.Input}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}],methodToHandleMouseClickAction:[{type:n.HostListener,args:["click"]}]};var C=function(){function t(t,e){this.fileIOService=t,this._renderer=e,this.onsuccess=new n.EventEmitter,this.onerror=new n.EventEmitter}return t.prototype.handleUpload=function(){var e=this;this.isDone=!1,this.file&&this.uploadOptions&&this.uploadOptions.entityName&&this.uploadOptions.metadata?this.fileIOService.upload({files:this.file,entityName:this.uploadOptions.entityName,metadata:this.uploadOptions.metadata}).then(function(t){e.isDone=!0,e.onsuccess.emit(t)})["catch"](function(t){return e.onerror.emit(t)}):this.onerror.emit(new Error("Upload options missing"))},t.prototype.handleSelect=function(t){t.target.files&&t.target.files[0]&&(this.file=t.target.files[0],this.fileName=this.file.name)},t.prototype.cancel=function(){this.file=null,this.fileName=null,this.isDone=!1,this.fileInput&&this._renderer.setProperty(this.fileInput,"value","")},t.prototype.disableFileUploadButton=function(){return"boolean"==typeof this.disableButton?this.disableButton:"disabled"===this.disableButton||"true"===this.disableButton},t}();C.decorators=[{type:n.Component,args:[{selector:"n-file-upload",styles:[".bh-file-upload{padding-left:8px;padding-right:8px}.bh-file-upload-cancel{height:24px;width:24px;position:relative;top:24px;left:-12px}::ng-deep [dir=rtl] .bh-file-upload-cancel{right:-12px;left:0}.bh-file-upload-cancel mat-icon{border-radius:12px;vertical-align:baseline}.bh-file-upload-done{height:24px;width:24px;position:relative;top:20px;left:-13px}::ng-deep [dir=rtl] .bh-file-upload-done{right:-12px;left:0}.bh-file-upload-done mat-icon{border-radius:12px;vertical-align:baseline}"],template:'<div>\n  <button mat-raised-button class="bh-file-upload" (click)="fileInput.click()" (keyup)="fileInput.click()" color="primary"\n    *ngIf="!fileName" [disabled]="disableFileUploadButton()">\n    <mat-icon>attach_file</mat-icon>\n    <span>Choose a file...</span>\n    <input #fileInput type="file" (change)="handleSelect($event)" style="display:none;" />\n  </button>\n  <div *ngIf="fileName">\n    <button mat-raised-button color="primary" (click)="handleUpload()">\n      <mat-icon>file_upload</mat-icon>\n      <span>{{fileName}}</span>\n    </button>\n    <button *ngIf="!isDone" mat-icon-button color="warn" (click)="cancel()" class="bh-file-upload-cancel">\n      <mat-icon>cancel</mat-icon>\n    </button>\n    <button *ngIf="isDone" mat-icon-button (click)="cancel()" class="bh-file-upload-done">\n      <mat-icon>done</mat-icon>\n    </button>\n  </div>\n</div>\n'}]}],C.ctorParameters=function(){return[{type:m},{type:n.Renderer2}]},C.propDecorators={fileInput:[{type:n.ViewChild,args:["fileInput"]}],uploadOptions:[{type:n.Input}],disableButton:[{type:n.Input,args:["disabled"]}],onsuccess:[{type:n.Output}],onerror:[{type:n.Output}]};var D=function t(e){this.dialogRef=e,this.messageContent=t.message,this.titleContent=t.title};D.title="",D.message="",D.decorators=[{type:n.Component,args:[{selector:"n-alert-dialog",template:'\n<div class="alertContainer" fxLayout="column">\n  <h4 mat-dialog-title>{{titleContent}}</h4>\n  <span class="msgContainer" >{{messageContent}}</span>\n  <button mat-raised-button (click)="dialogRef.close()">Close</button>\n</div>\n',styles:[".alertContainer{height:auto;width:auto}.msgContainer{margin-bottom:.5em}"]}]}],D.ctorParameters=function(){return[{type:r.MatDialogRef}]};var P=function(){function t(t){this.dialog=t}return t.prototype.alert=function(t,e,n){D.message=t,D.title=e,this.dialog.open(D,n)},t}();P.decorators=[{type:n.Injectable}],P.ctorParameters=function(){return[{type:r.MatDialog}]};var E=function(){function t(){this.toggleOptions=[],this.align="horizontal",this.indexChange=new n.EventEmitter,this.valueChange=new n.EventEmitter}return t.prototype.ngOnInit=function(){this.checkNumber(this.checkedIndex)&&(this.checkedIndex=Number(this.checkedIndex)),this.checkNumber(this.disabledIndex)&&(this.disabledIndex=Number(this.disabledIndex))},t.prototype.ngOnChanges=function(t){t.checkedIndex&&this.checkNumber(this.checkedIndex)?this.checkedIndex=Number(this.checkedIndex):t.disabledIndex&&this.checkNumber(this.disabledIndex)&&(this.disabledIndex=Number(this.disabledIndex))},t.prototype.optionClicked=function(t){this.toggleOptions&&0<this.toggleOptions.length&&(this.indexChange.emit(t),this.toggleOptions[t]&&this.toggleOptions[t].value&&this.valueChange.emit(this.toggleOptions[t].value))},t.prototype.checkNumber=function(t){return t!==undefined&&null!==t&&Number.isNaN(Number(t))},t}();E.decorators=[{type:n.Component,args:[{selector:"n-toggleoptions",template:'<mat-button-toggle-group #group="matButtonToggleGroup" [vertical]="align == \'vertical\'? true: false">\n    <mat-button-toggle *ngFor="let option of toggleOptions; let i = index;" [value]="option.value" [disabled]="option.disabled || disabledIndex == i" [checked]="option.checked || checkedIndex == i" (click)="optionClicked(i)" fxLayoutAlign="center center">\n        <mat-icon *ngIf="option.icon">{{option.icon}}</mat-icon>\n        <span *ngIf="!option.icon && option.value">{{option.value}}</span>\n    </mat-button-toggle>\n</mat-button-toggle-group>'}]}],E.propDecorators={toggleOptions:[{type:n.Input,args:["toggleOptions"]}],align:[{type:n.Input,args:["align"]}],disabledIndex:[{type:n.Input,args:["disabledIndex"]}],checkedIndex:[{type:n.Input,args:["checkedIndex"]}],indexChange:[{type:n.Output}],valueChange:[{type:n.Output}]};var N=function(){function t(){this.imageDataValue="",this.signaturePad="",this.mode="responsive",this.canvasMode="responsive",this.imageDataChange=new n.EventEmitter}return Object.defineProperty(t.prototype,"imageData",{get:function(){return this.imageDataValue},set:function(t){((this.imageDataValue=t)||""===t||this.isDataURL(t))&&this.saveCavas(t),this.imageDataChange.emit(this.imageDataValue)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){"responsive"===this.mode&&this.createCanvas()},t.prototype.createCanvas=function(){this.fitToContainer(this.signaturecanvas.nativeElement),this.signaturePad=new a(this.signaturecanvas.nativeElement,this.assignOptions())},t.prototype.saveCavas=function(t){this.signaturePad&&(this.signaturePad.isEmpty()||""===t?(this.savedData="",this.signaturePad.clear()):this.isDataURL(t)?(this.signaturePad.fromDataURL(t),this.savedData=this.signaturePad.toData()):(this.imageData=this.signaturePad.toDataURL(),"click-fullscreen"===this.mode&&(this.savedData=this.signaturePad.toData(),this.hideCanvas())))},t.prototype.clearCanvas=function(){this.signaturePad.clear()},t.prototype.undoCanvas=function(){var t=this.signaturePad.toData();t&&(t.pop(),this.signaturePad.fromData(t))},t.prototype.showCanvas=function(){this.classAbs=!0,this.canvasMode="fullscreen",this.signaturePad||this.createCanvas(),this.fitToContainer(this.signaturecanvas.nativeElement,document.body.clientHeight,document.body.clientWidth),this.clearCanvas(),this.createCanvasFromData()},t.prototype.hideCanvas=function(){this.canvasMode="responsive"},t.prototype.cancel=function(){this.savedData=Object.assign([],this.previousSavedData)},t.prototype.createCanvasFromData=function(){this.savedData&&(this.previousSavedData=Object.assign({},this.savedData),this.signaturePad.fromData(this.savedData))},t.prototype.fitToContainer=function(t,e,n){t.style.width="100%",t.style.height="calc(100% - 56px)",e&&n?(t.width=n,t.height=e-56):(t.width=t.offsetWidth,t.height=t.offsetHeight)},t.prototype.assignOptions=function(){var t={};return t.backgroundColor=this.checkIfValidValueAndRGB(this.backgroundColor,"backgroundColor"),t.dotSize=this.checkIfValidValueAndNumber(this.dotSize,"dotSize"),t.minWidth=this.checkIfValidValueAndNumber(this.minWidth,"minWidth"),t.maxWidth=this.checkIfValidValueAndNumber(this.maxWidth,"maxWidth"),t.throttle=this.checkIfValidValueAndNumber(this.throttle,"throttle"),t.minDistance=this.checkIfValidValueAndNumber(this.minDistance,"minDistance"),t.penColor=this.checkIfValidValueAndRGB(this.penColor,"penColor"),t.velocityFilterWeight=this.checkIfValidValueAndNumber(this.velocityFilterWeight,"velocityFilterWeight"),(t=JSON.parse(JSON.stringify(t))).onBegin=this.checkIfValidValueAndFunction(this.onBegin,"onBegin"),t.onEnd=this.checkIfValidValueAndFunction(this.onEnd,"onEnd"),t},t.prototype.checkIfValidValueAndNumber=function(t,e){return this.checkIfValid(t)&&this.checkNumber(t)?t:(this.invalidToast(e,"num"),undefined)},t.prototype.checkIfValidValueAndRGB=function(t,e){return this.checkIfValid(t)&&this.checkRGB(t)?t:(this.invalidToast(e,"rgb"),undefined)},t.prototype.checkIfValidValueAndFunction=function(t,e){return this.checkIfValid(t)&&this.checkIfValidFunction(t)?t:(this.invalidToast(e,"function format"),undefined)},t.prototype.checkIfValid=function(t){return t!==undefined&&null!==t?t:undefined},t.prototype.checkNumber=function(t){return this.checkIsNan(Number(t))?undefined:Number(t)},t.prototype.checkIfValidFunction=function(t){return"function"==typeof t?t:undefined},t.prototype.checkRGB=function(t){var e=new RegExp(/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/),n=new RegExp(/rgb\((\d{1,3}),[ \t]+(\d{1,3}),(\d{1,3})\)/),o=new RegExp(/rgb\((\d{1,3}),(\d{1,3}),[ \t]+(\d{1,3})\)/);return e.test(t)||n.test(t)||o.test(t)},t.prototype.checkIsNan=function(t){return Number.isNaN(t)},t.prototype.invalidToast=function(t,e){},t.prototype.isDataURL=function(t){if(t){return!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}return!1},t}();N.decorators=[{type:n.Component,args:[{selector:"n-signature",template:'<div fxFill fxLayout="row" *ngIf="mode == \'click-fullscreen\' && canvasMode !== \'fullscreen\'" class="signature-component-border">\n    <div fxFlex="calc(100%-56px)" fxLayout="column">\n        <img *ngIf="imageDataValue" [src]="imageDataValue" fxFill/>\n    </div>\n    <div fxFlex="56px" fxLayoutAlign=" center" class="signature-component-border">\n        <button mat-icon-button (click)="showCanvas()">\n            <mat-icon>mode_edit</mat-icon>\n        </button>\n    </div>\n</div>\n<div fxFill fxLayout="column" class="signature-component-border" [fxShow]="(mode == \'click-fullscreen\' && canvasMode == \'fullscreen\') || mode == \'responsive\'" [ngClass]="{\'signature-canvas-fullscreen\': classAbs}">\n    <canvas #signaturecanvas></canvas>\n    <div fxFlex="56px" fxLayoutAlign="center center" class="signature-component-border">\n        <button mat-icon-button (click)="undoCanvas()">\n            <mat-icon>undo</mat-icon>\n        </button>\n        <button mat-icon-button (click)="clearCanvas()">\n            <mat-icon>loop</mat-icon>\n        </button>\n        <button mat-icon-button (click)="saveCavas()">\n            <mat-icon>save</mat-icon>\n        </button>\n        <button mat-icon-button (click)="canvasMode = \'responsive\'; cancel()">\n            <mat-icon>clear</mat-icon>\n        </button>\n    </div>\n</div>',styles:["\n     :host { height: 100% !important; }\n     .signature-canvas-fullscreen {\n         position: absolute;\n         top: 0;\n         bottom: 0;\n         right: 0;\n         left: 0;\n     }\n     .signature-component-border {\n         border: 2px solid black;\n     }\n    "]}]}],N.propDecorators={signaturecanvas:[{type:n.ViewChild,args:["signaturecanvas"]}],canvasparent:[{type:n.ViewChild,args:["canvasparent"]}],backgroundColor:[{type:n.Input,args:["backgroundColor"]}],dotSize:[{type:n.Input,args:["dotSize"]}],minWidth:[{type:n.Input,args:["minWidth"]}],maxWidth:[{type:n.Input,args:["maxWidth"]}],throttle:[{type:n.Input,args:["throttle"]}],minDistance:[{type:n.Input,args:["minDistance"]}],penColor:[{type:n.Input,args:["penColor"]}],velocityFilterWeight:[{type:n.Input,args:["velocityFilterWeight"]}],onBegin:[{type:n.Input,args:["onBegin"]}],onEnd:[{type:n.Input,args:["onEnd"]}],mode:[{type:n.Input,args:["mode"]}],imageDataChange:[{type:n.Output}],imageData:[{type:n.Input}]};var F=[g,v,y,b,I,k,w,O,x,C,D,E,N],T=function(){};T.decorators=[{type:n.NgModule,args:[{imports:[o.HttpClientModule,c.FormsModule,s.CommonModule,d.MatIconModule,f.MatDialogModule,h.MatButtonModule,u.BrowserAnimationsModule,r.MatButtonToggleModule,i.NeutrinosSeedServicesModule,p.NSheetModule,l.FlexLayoutModule],declarations:[F],exports:[F,C,i.NeutrinosSeedServicesModule,p.NSheetModule],providers:[m,P],entryComponents:[D]}]}],e.NFileIOService=m,e.NAlertComponent=D,e.NFileUploadComponent=C,e.NAlertService=P,e.NeutrinosModule=T,e.ɵk=N,e.ɵj=E,e.ɵe=I,e.ɵa=g,e.ɵb=v,e.ɵg=w,e.ɵh=O,e.ɵc=y,e.ɵi=x,e.ɵf=k,e.ɵd=b,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=neutrinos-module.umd.min.js.map
