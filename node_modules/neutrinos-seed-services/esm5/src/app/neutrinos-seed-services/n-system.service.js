/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import * as platform from 'platform';
var NSystemService = /** @class */ (function () {
    function NSystemService() {
        this._deviceType = this.checkDevice();
    }
    /**
     * @return {?}
     */
    NSystemService.getInstance = /**
     * @return {?}
     */
    function () {
        if (!this.instance) {
            this.instance = new NSystemService();
        }
        return this.instance;
    };
    /**
     * Seter and getter for the environments
     */
    // set environments(properties) {
    //   console.log(properties);
    //   NSystemService.envProperties = properties;
    //   this.properties = this.getVal('properties');
    // }
    // get environments() {
    //   return NSystemService.envProperties;
    // }
    /**
     * Returna 'mobile' or 'browser' based on the platform
     */
    /**
     * Returna 'mobile' or 'browser' based on the platform
     * @return {?}
     */
    NSystemService.prototype.checkDevice = /**
     * Returna 'mobile' or 'browser' based on the platform
     * @return {?}
     */
    function () {
        if (window['device'] && (window['device']['platform'] != 'browser' || window['device']['platform'] != 'Browser')) {
            return 'mobile';
        }
        else if (window['device'] && (window['device']['platform'] == 'browser' || window['device']['platform'] == 'Browser')) {
            return 'cordova_browser';
        }
        else {
            return 'browser';
        }
    };
    Object.defineProperty(NSystemService.prototype, "deviceType", {
        get: /**
         * @return {?}
         */
        function () {
            return this._deviceType;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} key
     * @return {?}
     */
    NSystemService.prototype.getVal = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        if (!NSystemService.envProperties) {
            NSystemService.envProperties = window['neutrinos']['environments'];
            this.properties = NSystemService.envProperties.properties;
        }
        if (key == 'properties') {
            if (NSystemService.envProperties) {
                return NSystemService.envProperties.properties;
            }
            else {
                return undefined;
            }
        }
        else {
            if (NSystemService.envProperties && NSystemService.envProperties.properties) {
                return NSystemService.envProperties.properties[key];
            }
            else {
                return undefined;
            }
        }
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.isAndroid = /**
     * @return {?}
     */
    function () {
        if (window['device'] && window['device']['platform'] == 'Android') {
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.isIOS = /**
     * @return {?}
     */
    function () {
        if (window['device'] && window['device']['platform'] == 'iOS') {
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getAndroidVersion = /**
     * @return {?}
     */
    function () {
        if (this.isAndroid()) {
            return window['device']['version'];
        }
        else {
            return '';
        }
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getAuthUrl = /**
     * @return {?}
     */
    function () {
        // this.properties = this.getVal('properties');
        return this.properties.baseUrl + this.properties.tenantName + '/auth/';
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getTenantUrl = /**
     * @return {?}
     */
    function () {
        return this.properties.baseUrl + this.properties.tenantName + '/';
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getAppUrl = /**
     * @return {?}
     */
    function () {
        return this.properties.baseUrl + this.properties.tenantName + '/proxy/' + this.properties.appName + '/';
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getProxyUrl = /**
     * @return {?}
     */
    function () {
        return this.properties.baseUrl + this.properties.tenantName + '/proxy/';
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getDataModelUrl = /**
     * @return {?}
     */
    function () {
        return this.properties.baseUrl + this.properties.tenantName + '/datamodel/' + this.properties.appDataSource + '/' + this.properties.appName + '/';
    };
    /**
     * @return {?}
     */
    NSystemService.prototype.getFileIOUrl = /**
     * @return {?}
     */
    function () {
        return this.properties.baseUrl + this.properties.tenantName + '/fileio/' +
            this.properties.appDataSource + '/' + this.properties.appName + '/';
    };
    /**
     * @param {?} type
     * @return {?}
     */
    NSystemService.prototype.getPlatformDetails = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        var /** @type {?} */ pDetails = {
            platform: platform.os.family,
            platformVersion: platform.os.version,
        };
        if (type === 'browser') {
            return Object.assign(pDetails, {
                type: 'browser',
                browser: platform.name,
                browserVersion: platform.version,
            });
        }
        else if (type === 'mobile' || type === 'cordova_browser') {
            return Object.assign(pDetails, {
                type: 'mobile',
                model: window['device'].model,
                manufacturer: window['device'].manufacturer,
                isVirtual: window['device'].isVirtual
            });
        }
    };
    return NSystemService;
}());
export { NSystemService };
function NSystemService_tsickle_Closure_declarations() {
    /** @type {?} */
    NSystemService.instance;
    /** @type {?} */
    NSystemService.envProperties;
    /** @type {?} */
    NSystemService.prototype._deviceType;
    /** @type {?} */
    NSystemService.prototype.uuid;
    /** @type {?} */
    NSystemService.prototype.properties;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibi1zeXN0ZW0uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25ldXRyaW5vcy1zZWVkLXNlcnZpY2VzLyIsInNvdXJjZXMiOlsic3JjL2FwcC9uZXV0cmlub3Mtc2VlZC1zZXJ2aWNlcy9uLXN5c3RlbS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFJQSxPQUFPLEtBQUssUUFBUSxNQUFNLFVBQVUsQ0FBQztBQUdyQyxJQUFBOztRQWdCSSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7Ozs7SUFSakMsMEJBQVc7OztJQUFsQjtRQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDO1NBQ3RDO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7S0FDdEI7SUFNRDs7T0FFRztJQUVILGlDQUFpQztJQUNqQyw2QkFBNkI7SUFDN0IsK0NBQStDO0lBQy9DLGlEQUFpRDtJQUNqRCxJQUFJO0lBRUosdUJBQXVCO0lBQ3ZCLHlDQUF5QztJQUN6QyxJQUFJO0lBRUo7O09BRUc7Ozs7O0lBQ0gsb0NBQVc7Ozs7SUFBWDtRQUNFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxTQUFTLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqSCxNQUFNLENBQUMsUUFBUSxDQUFDO1NBQ2pCO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxTQUFTLElBQUks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QyxDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUM3QixJQUFJLEVBQUUsUUFBUTtnQkFDZCxLQUFLLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUs7Z0JBQzdCLFlBQVksRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWTtnQkFDM0MsU0FBUyxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTO2FBQ3RDLENBQUMsQ0FBQztTQUNKOzt5QkF0Skw7SUF3SkMsQ0FBQTtBQWpKRCwwQkFpSkMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgeyBlbnZpcm9ubWVudCB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50cy9lbnZpcm9ubWVudCc7XG5pbXBvcnQgeyBOVXRpbGl0eSB9IGZyb20gJy4vbi11dGlsLnNlcnZpY2UnO1xuaW1wb3J0IHsgTkxvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuL24tbG9jYWxTdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgcGxhdGZvcm0gZnJvbSAncGxhdGZvcm0nO1xuXG4vLyBAZHluYW1pY1xuZXhwb3J0IGNsYXNzIE5TeXN0ZW1TZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IE5TeXN0ZW1TZXJ2aWNlO1xuXG4gIHByaXZhdGUgX2RldmljZVR5cGU6IHN0cmluZztcbiAgLy8gcHJpdmF0ZSBfZGV2aWNlVVVJRDtcbiAgdXVpZDtcbiAgcHJvcGVydGllcztcbiAgc3RhdGljIGVudlByb3BlcnRpZXM7XG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgTlN5c3RlbVNlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH1cblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2RldmljZVR5cGUgPSB0aGlzLmNoZWNrRGV2aWNlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0ZXIgYW5kIGdldHRlciBmb3IgdGhlIGVudmlyb25tZW50c1xuICAgKi9cblxuICAvLyBzZXQgZW52aXJvbm1lbnRzKHByb3BlcnRpZXMpIHtcbiAgLy8gICBjb25zb2xlLmxvZyhwcm9wZXJ0aWVzKTtcbiAgLy8gICBOU3lzdGVtU2VydmljZS5lbnZQcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgLy8gICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLmdldFZhbCgncHJvcGVydGllcycpO1xuICAvLyB9XG5cbiAgLy8gZ2V0IGVudmlyb25tZW50cygpIHtcbiAgLy8gICByZXR1cm4gTlN5c3RlbVNlcnZpY2UuZW52UHJvcGVydGllcztcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5hICdtb2JpbGUnIG9yICdicm93c2VyJyBiYXNlZCBvbiB0aGUgcGxhdGZvcm1cbiAgICovXG4gIGNoZWNrRGV2aWNlKCk6IHN0cmluZyB7XG4gICAgaWYgKHdpbmRvd1snZGV2aWNlJ10gJiYgKHdpbmRvd1snZGV2aWNlJ11bJ3BsYXRmb3JtJ10gIT0gJ2Jyb3dzZXInIHx8IHdpbmRvd1snZGV2aWNlJ11bJ3BsYXRmb3JtJ10gIT0gJ0Jyb3dzZXInKSkge1xuICAgICAgcmV0dXJuICdtb2JpbGUnO1xuICAgIH0gZWxzZSBpZiAod2luZG93WydkZXZpY2UnXSAmJiAod2luZG93WydkZXZpY2UnXVsncGxhdGZvcm0nXSA9PSAnYnJvd3NlcicgfHwgd2luZG93WydkZXZpY2UnXVsncGxhdGZvcm0nXSA9PSAnQnJvd3NlcicpKSB7XG4gICAgICByZXR1cm4gJ2NvcmRvdmFfYnJvd3Nlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnYnJvd3Nlcic7XG4gICAgfVxuICB9XG5cblxuICBwdWJsaWMgZ2V0IGRldmljZVR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RldmljZVR5cGU7XG4gIH1cblxuXG5cbiAgcHVibGljIGdldFZhbChrZXkpIHtcbiAgICBpZiAoIU5TeXN0ZW1TZXJ2aWNlLmVudlByb3BlcnRpZXMpIHtcbiAgICAgIE5TeXN0ZW1TZXJ2aWNlLmVudlByb3BlcnRpZXMgPSB3aW5kb3dbJ25ldXRyaW5vcyddWydlbnZpcm9ubWVudHMnXTtcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IE5TeXN0ZW1TZXJ2aWNlLmVudlByb3BlcnRpZXMucHJvcGVydGllcztcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09ICdwcm9wZXJ0aWVzJykge1xuICAgICAgaWYgKE5TeXN0ZW1TZXJ2aWNlLmVudlByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIE5TeXN0ZW1TZXJ2aWNlLmVudlByb3BlcnRpZXMucHJvcGVydGllcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChOU3lzdGVtU2VydmljZS5lbnZQcm9wZXJ0aWVzICYmIE5TeXN0ZW1TZXJ2aWNlLmVudlByb3BlcnRpZXMucHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gTlN5c3RlbVNlcnZpY2UuZW52UHJvcGVydGllcy5wcm9wZXJ0aWVzW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfVxuXG4gIH1cblxuICBwdWJsaWMgaXNBbmRyb2lkKCkge1xuICAgIGlmICh3aW5kb3dbJ2RldmljZSddICYmIHdpbmRvd1snZGV2aWNlJ11bJ3BsYXRmb3JtJ10gPT0gJ0FuZHJvaWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpc0lPUygpIHtcbiAgICBpZiAod2luZG93WydkZXZpY2UnXSAmJiB3aW5kb3dbJ2RldmljZSddWydwbGF0Zm9ybSddID09ICdpT1MnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRBbmRyb2lkVmVyc2lvbigpIHtcbiAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xuICAgICAgcmV0dXJuIHdpbmRvd1snZGV2aWNlJ11bJ3ZlcnNpb24nXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRBdXRoVXJsKCkge1xuICAgIC8vIHRoaXMucHJvcGVydGllcyA9IHRoaXMuZ2V0VmFsKCdwcm9wZXJ0aWVzJyk7XG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5iYXNlVXJsICsgdGhpcy5wcm9wZXJ0aWVzLnRlbmFudE5hbWUgKyAnL2F1dGgvJztcbiAgfVxuICBwdWJsaWMgZ2V0VGVuYW50VXJsKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuYmFzZVVybCArIHRoaXMucHJvcGVydGllcy50ZW5hbnROYW1lICsgJy8nO1xuICB9XG5cbiAgcHVibGljIGdldEFwcFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmJhc2VVcmwgKyB0aGlzLnByb3BlcnRpZXMudGVuYW50TmFtZSArICcvcHJveHkvJyArIHRoaXMucHJvcGVydGllcy5hcHBOYW1lICsgJy8nO1xuICB9XG5cbiAgcHVibGljIGdldFByb3h5VXJsKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuYmFzZVVybCArIHRoaXMucHJvcGVydGllcy50ZW5hbnROYW1lICsgJy9wcm94eS8nO1xuICB9XG5cbiAgcHVibGljIGdldERhdGFNb2RlbFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmJhc2VVcmwgKyB0aGlzLnByb3BlcnRpZXMudGVuYW50TmFtZSArICcvZGF0YW1vZGVsLycgKyB0aGlzLnByb3BlcnRpZXMuYXBwRGF0YVNvdXJjZSArICcvJyArIHRoaXMucHJvcGVydGllcy5hcHBOYW1lICsgJy8nO1xuICB9XG5cbiAgcHVibGljIGdldEZpbGVJT1VybCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmJhc2VVcmwgKyB0aGlzLnByb3BlcnRpZXMudGVuYW50TmFtZSArICcvZmlsZWlvLycgK1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzLmFwcERhdGFTb3VyY2UgKyAnLycgKyB0aGlzLnByb3BlcnRpZXMuYXBwTmFtZSArICcvJztcbiAgfVxuXG4gIHB1YmxpYyBnZXRQbGF0Zm9ybURldGFpbHModHlwZSkge1xuICAgIGNvbnN0IHBEZXRhaWxzID0ge1xuICAgICAgcGxhdGZvcm06IHBsYXRmb3JtLm9zLmZhbWlseSxcbiAgICAgIHBsYXRmb3JtVmVyc2lvbjogcGxhdGZvcm0ub3MudmVyc2lvbixcbiAgICB9O1xuICAgIGlmICh0eXBlID09PSAnYnJvd3NlcicpIHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHBEZXRhaWxzLCB7XG4gICAgICAgIHR5cGU6ICdicm93c2VyJyxcbiAgICAgICAgYnJvd3NlcjogcGxhdGZvcm0ubmFtZSxcbiAgICAgICAgYnJvd3NlclZlcnNpb246IHBsYXRmb3JtLnZlcnNpb24sXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtb2JpbGUnIHx8IHR5cGUgPT09ICdjb3Jkb3ZhX2Jyb3dzZXInKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwRGV0YWlscywge1xuICAgICAgICB0eXBlOiAnbW9iaWxlJyxcbiAgICAgICAgbW9kZWw6IHdpbmRvd1snZGV2aWNlJ10ubW9kZWwsXG4gICAgICAgIG1hbnVmYWN0dXJlcjogd2luZG93WydkZXZpY2UnXS5tYW51ZmFjdHVyZXIsXG4gICAgICAgIGlzVmlydHVhbDogd2luZG93WydkZXZpY2UnXS5pc1ZpcnR1YWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19